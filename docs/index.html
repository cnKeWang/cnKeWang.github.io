<!DOCTYPE html>
<html lang="en">
    <head>
	<meta name="generator" content="Hugo 0.89.4" />
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Jonathan Old | Homepage</title>
        <meta name="google-site-verification" content="rJxuCnVXgv8JZDRzXe2CljnrgkfEYAgvyNE_b0NPZ2s" />
        <script data-goatcounter="https://jonathanold.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>
        <script src="https://d3js.org/d3.v4.min.js"></script>
        <link rel="stylesheet" href="./css/style.css">
        <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico">
        <link rel=”stylesheet” href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity=”sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T” crossorigin=”anonymous”>
    </head> 


    <body>
        <div class="wrapper">

    <header>
      
        <div class="headx" id="header01">
          <h1>Jonathan Old</h1>

      Economics Ph.D. student at UC Berkeley. Interested in political economy and development economics. 

             <hr/>
      
<p class="contactinfo"> <img src="./icons/mail_outline.svg" class="octicons">  <a href="mailto:jonathan.david.old@gmail.com" target="_blank">E-Mail</a></p>
<p class="contactinfo"> <img src="./icons/twitter2.svg" class="octicons">  <a href="https://twitter.com/Jonathan_Old" target="_blank">Twitter</a></p>
<p class="contactinfo"> <img src="./icons/github.svg" class="octicons">  <a href="http://github.com/jonathanold" target="_blank">GitHub</a></p>
<p class="contactinfo"> <img src="./icons/cv.png" class="octicons">  <a href="./pdf/JOld_CV_public.pdf" target="_blank">Curriculum Vitae</a></p>
<hr/>


<p class="contactinfo"><a href="./#bio">Bio</a></p>

<p class="contactinfo"><a href="./#publications">Publications</a></p>


<p class="contactinfo"><a href="./#workingpapers">Working Papers</a></p>


<p class="contactinfo"><a href="./#policy">Policy</a></p>


<p class="contactinfo"><a href="./#resources">Resources</a></p>



 
                
                
                <img src="./wald.jpg" alt="Logo" />
                

        </div>
      
    </header>


<section>
    <h2 id="bio">Bio</h2>

<p>Welcome to my website! I am a second year Ph.D. student in economics at the University of California, Berkeley. I am interested in political economy and development economics, and have previously worked on conflict and political reservations in India, democratic transitions and state repression, and longevity.</p>
<p>Before my Ph.D., I worked as a predoc with  <a href="https://robinburgess.com" target="_blank">Robin Burgess</a> and <a href="https://orianabandiera.net" target="_blank">Oriana Bandiera</a> at the LSE, where I also did a masters in economics.</p>




  


<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="./js/load-photoswipe.js"></script>


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.css" integrity="sha256-sCl5PUOGMLfFYctzDW3MtRib0ctyUvI9Qsmq2wXOeBY=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/default-skin/default-skin.min.css" integrity="sha256-BFeI1V+Vh1Rk37wswuOYn5lsTcaU96hGaI7OUVCLjPc=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.js" integrity="sha256-UplRCs9v4KXVJvVY+p+RSo5Q4ilAUXh7kpjyIP5odyc=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe-ui-default.min.js" integrity="sha256-PWHOlUzc96pMc8ThwRIXPn8yH4NOLu42RQ0b9SpnpFk=" crossorigin="anonymous"></script>


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>




<div class="gallery caption-position-bottom caption-effect-slide hover-effect-zoom hover-transition" itemscope itemtype="http://schema.org/ImageGallery">
	  
  
<link rel="stylesheet" href="./css/hugo-easy-gallery.css" />
<div class="box" >
  <figure  itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">
    <div class="img" style="background-image: url('/images/democratizations_and_state_repression-thumb.jpg');">
      <img itemprop="thumbnail" src="./images/democratizations_and_state_repression-thumb.jpg" alt="Democratizations and state repression: The figure shows the predicted evolution of repression following a democratic transition. Light are countries that were poor, dark countries that were rich two years before the transition. Democratizations went along reduced repression in richer countries only."/>
    </div>
    <a href="./images/democratizations_and_state_repression.jpg" itemprop="contentUrl"></a>
      <figcaption>
          <p>Democratizations and state repression</p>
      </figcaption>
  </figure>
</div>

  

<div class="box" >
  <figure  itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">
    <div class="img" style="background-image: url('/images/electoral_cycles_in_deforestation_in_Indonesia-thumb.jpg');">
      <img itemprop="thumbnail" src="./images/electoral_cycles_in_deforestation_in_Indonesia-thumb.jpg" alt="Electoral cycles in deforestation in Indonesia: The figure shows the evolution of deforestation rates across an electoral cycle of five years. In the election year, deforestation drops substantially, but much less so in the protected forest."/>
    </div>
    <a href="./images/electoral_cycles_in_deforestation_in_Indonesia.jpg" itemprop="contentUrl"></a>
      <figcaption>
          <p>Electoral cycles in deforestation in Indonesia</p>
      </figcaption>
  </figure>
</div>

  

<div class="box" >
  <figure  itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">
    <div class="img" style="background-image: url('/images/low_level_conflict_in_India.jpg');">
      <img itemprop="thumbnail" src="./images/low_level_conflict_in_India.jpg" alt="Low-level conflict in India since 2015: The map aggregates ACLED data on low-level conflict to the level of electoral districts for state assembly elections. In my paper, I show that districts with a seat reserved for the Scheduled Castes have experienced less conflict since 2015."/>
    </div>
    <a href="./images/low_level_conflict_in_India.jpg" itemprop="contentUrl"></a>
      <figcaption>
          <p>Low-level conflict in India since 2015</p>
      </figcaption>
  </figure>
</div>


</div>

















<hr>
<h2 id="publications">Publications</h2>


<h3 style="margin:20px 0 5px;"><a href="./pdf/2021_Cycles_of_Fire.pdf" target="blank">Cycles of Fire: Politics and Forest Burning in Indonesia</a></h3>

<p style="margin:0 0 5px;">(with Clare Balboni, Robin Burgess, Anton Heil and Ben Olken)</p>


<p style="margin:0 0 5px;"><em>AEA Papers and Proceedings, May 2021, Vol. 111, 415–419</em></p>




<p style="margin:0 0 5px;"><a href="javascript:toggle(0)">Abstract<span id="pubabslink_0"> [+]</span></a><span id="pubabs_0" style="display:none;"> [–] This paper examines the link between electoral incentives and environmental degradation by exploiting a satellite data set on 107,000 forest fires and 879 asynchronous district elections in Indonesia. Fires represent a cheap but illegal means of converting forested land to other uses, but risk burning out of control and creating substantial negative environmental externalities. We find a significant electoral cycle in forest fires. Ignitions and area burned decline during election years, but steeply increase in the year after. The results suggest that politicians may suppress this activity at times when it might particularly dent their electoral chances.
</span></p>



        <a href="./pdf/2021_Cycles_of_Fire_Appendix.pdf"target="blank">Online Appendix</a>, <a href="https://www.openicpsr.org/openicpsr/project/130744/version/V1/view"target="blank">Replication data (on OpenICPSR)</a>





   

<h3 style="margin:20px 0 5px;"><a href="./pdf/2021_Democracy_and_transnational_repression.pdf" target="blank">Democracy and the transnational dimensions of low-level conflict and state repression</a></h3>

<p style="margin:0 0 5px;">(with Martin Rößler and Patrick Zwerschke)</p>


<p style="margin:0 0 5px;"><em>International Studies Quarterly, September 2021, Vol. 65, Issue 3, 753–767</em></p>




<p style="margin:0 0 5px;"><a href="javascript:toggle(1)">Abstract<span id="pubabslink_1"> [+]</span></a><span id="pubabs_1" style="display:none;"> [–] This paper examines the transnational dimensions of low-level conflict and state repression. In this regard, special emphasis is placed on the role of political regimes. Drawing on a simple model, we argue that democracy has opposing effects on conflict intensity. On the one hand, democracy satisfies demand for political participation and thus reduces conflict potential. On the other hand, we highlight that domestic democracy may spur dissatisfaction and conflict abroad, which, in turn, may induce conflict spillovers. As a result, the net effect of democracy on low-level conflict and state repression is ambiguous and depends on the level of democracy in the neighborhood: We predict that democracy is more pacifying in democratic environments and may spur conflict in autocratic environments. By the symmetry of the model, we also predict that democratic environments are more pacifying for democratic countries and may spur conflict in autocracies. Empirical evidence using panel data on different types of low-level conflict and state repression for 160 countries in the period from 1950 to 2011 supports these hypotheses. Additionally, two case studies illustrate the mechanisms of our model.
</span></p>



        <a href="./pdf/2021_Democracy_and_transnational_repression_Appendix.pdf"target="blank">Online Appendix</a>, <a href="./otherdata/rzo_replication-material.zip"target="blank">Replication data (.zip file)</a>





   






<hr>
<h2 id="workingpapers">Working Papers</h2>


<h3 style="margin:20px 0 5px;"><a href="./pdf/2021_Mandated_Representation_and_Low-Level_Conflict.pdf" target="blank">Mandated Political Representation and Low-Level Conflict: Evidence from India</a></h3>




<p style="margin:0 0 5px;"><em>Working Paper</em></p>




<p style="margin:0 0 5px;"><a href="javascript:toggle(2)">Abstract<span id="pubabslink_2"> [+]</span></a><span id="pubabs_2" style="display:none;"> [–] This paper analyzes the effect of political reservations on low-level subnational conflict in India. The recent literature on the impact of reservations on public goods provison finds that reservations benefit the targeted minorities. This may come at the detriment of other minorities or forward castes. I explore the latter possibility in a simple formal model of targeted public goods provision. The model indicates that reservations reduce conflict the larger and economically more disadvantaged the targeted minority is. However, this result may be mediated by reelection incentives. I investigate the predictions of the model with empirical data from Indian constituencies and village-level surveys. At the constituency level, where politicians can be reelected, reservations are associated with significantly lower levels of conflict. At the village level, the rotation of reservations constitutes an implicit term limit, and reservation is, if at all, associated with more conflict.
</span></p>





   

<h3 style="margin:20px 0 5px;"><a href="./pdf/2021_When_do_democracies_repress_less.pdf" target="blank">(When) Do Democracies Repress Less?</a></h3>

<p style="margin:0 0 5px;">(with Martin Rößler and Patrick Zwerschke)</p>


<p style="margin:0 0 5px;"><em>Working Paper</em></p>




<p style="margin:0 0 5px;"><a href="javascript:toggle(3)">Abstract<span id="pubabslink_3"> [+]</span></a><span id="pubabs_3" style="display:none;"> [–] Although there is consensus that full democracies are less repressive than other regime types, the establishment of full democracy is not always followed by reduced state repression. Against that background, this paper examines heterogeneity in the relationship between democracy and government violations of human rights. Drawing on arguments from the civil war literature, we develop a simple model that highlights opposing effects of democracy on state repression. Consequently, the net effect of democracy is shown to be ambiguous. Furthermore, the model reveals that pacifying (adverse) effects of democracy are more likely to dominate in countries with higher (lower) income levels. These implications are tested empirically using different methodological approaches, including time-series cross-sectional regressions, event studies, and a recent generalization of the synthetic control method. Our analyses confirm that democracy is related to reduced repression in relatively rich countries, whereas we find no or even adverse effects in poor countries.
</span></p>



        <a href="./pdf/2021_When_do_democracies_repress_less_Appendix.pdf"target="blank">Online Appendix</a>





   






<hr>
<h2 id="policy">Policy</h2>
<ul>
<li>
<p>Bureaucracy and development. With <a href="https://www.lse.ac.uk/economics/people/faculty/tim-besley" target="_blank">Tim Besley</a>, <a href="https://robinburgess.com/" target="_blank">Robin Burgess </a>, <a href="https://adnanqkhan.com/" target="_blank">Adnan Khan</a> and  <a href="http://guoxu.org/" target="_blank">Guo Xu</a>. In: VoxEU / CEPR Policy Portal
(2021). <a href="https://voxeu.org/article/bureaucracy-and-development" target="_blank">Link to article</a></p>
</li>
<li>
<p>The Interaction Between Covid-19 and an Ageing Society. With <a href="https://profandrewjscott.com/" target="_blank">Andrew J. Scott</a>. In: VoxEU / CEPR Policy Portal
(2020). <a href="https://voxeu.org/article/interaction-between-covid-19-and-ageing-society" target="_blank">Link to article</a></p>
</li>
<li>
<p>Sparprojekt oder Milchmädchenrechnung? Die finanziellen Effekte eines Bundeslandes „Mitteldeutschland [Fiscal aspects of a &lsquo;Länder&rsquo; merger]. With <a href="https://sites.google.com/site/roeselfelix/" target="_blank">Felix Rösel</a>. In: ifo Dresden berichtet 25/02 (2018). 12–17. <a href="https://www.ifo.de/DocDL/ifoDD_18-02_12-17_Old.pdf" target="_blank">Link to pdf</a></p>
</li>
<li>
<p>Die Preisentwicklung für Kaufimmobilien in Sachsen– Ein Überblick über die aktuellen Daten [Recent data on housing prices in Saxony]. With Carolin Fritzsche. In: ifo Dresden berichtet 24/06 (2017). 20–24. <a href="https://www.cesifo.org/DocDL/ifoDD_17-06_20-24_Fritzsche.pdf" target="_blank">Link to pdf</a></p>
</li>
<li>
<p>Steht sächsischen Schulen ein Qualitätsverlust bevor? Ein Überblick internationaler Studien zur Lehrqualität von Seiteneinsteigern [Review of studies on teaching quality of &lsquo;career changers&rsquo;]. With Julia Sonnenburg. In: ifo Dresden berichtet 24/06 (2017). 31–34. <a href="https://www.ifo.de/DocDL/ifoDD_17-06_31-34_Old.pdf" target="_blank">Link to pdf</a></p>
</li>
</ul>





<hr>
<h2 id="resources">Resources</h2>
<h3 id="covid-19-vaccination-progress">Covid-19 vaccination progress</h3>
<script type="text/javascript">
 var zz = "World" ;
        var comma = d3.format(",");

		var abc =  d3.csv("/otherdata/covid.csv", function(consdata) {
	    var filtercitydata = consdata.filter(function(d, i) 
	    	{ 
	            if (d["location"] == zz) 
	            {return d} ;
	        }) ;
	        console.log(filtercitydata) ;
		  var ctry =  filtercitydata.filter(function(d, i){return d})[0].location2 ;      
		 var sevendays = comma(filtercitydata.filter(function(d, i){return d})[0].fvl7d)  ;
		 var date = filtercitydata.filter(function(d, i){return d})[0].date  ;
		 var vaccination_rate = filtercitydata.filter(function(d, i){return d})[0].vaccination_rate  ;
    var vaccination_rate2 = filtercitydata.filter(function(d, i){return d})[0].vaccination_rate2  ;
		 var already_vaccinated = filtercitydata.filter(function(d, i){return d})[0].already_vaccinated  ;
		 var vaccination_days = comma(filtercitydata.filter(function(d, i){return d})[0].vaccination_days)  ;
         var death_days = comma(filtercitydata.filter(function(d, i){return d})[0].death_days)  ;
     var day = filtercitydata.filter(function(d, i){return d})[0].day ;
    var month = filtercitydata.filter(function(d, i){return d})[0].month ;
     var year = filtercitydata.filter(function(d, i){return d})[0].year ;

     d3.select("#p3").insert("p").html("As of <b>" + month + " " 
    + day + ", " + year +  "</b>, <b>" + ctry + "</b> has vaccinated <b>" + sevendays + "</b> new people over the last two weeks. This means that <b>" + vaccination_rate + "%</b> of the population received their first dose over the last two weeks. <b>"  + ctry  + "</b> has given the first dose of the vaccine to <b>" + already_vaccinated + "%</b> of the population. At the current speed, <b>" + ctry + "</b> it will take <b>" + vaccination_days + "</b> days to give at least one dose to 80% of the population. Given the current death rate, sadly, around <b>" +death_days + "</b> people will have died from Covid-19 until then.");
		   		}) ;
</script>
 <script>


 d3.csv("/otherdata/covid.csv", function(error, data) {
    var select = d3.select("p2")
      .append("div")
      .append("select")


    select
      .on("change", function(d) {
      	// Defining the function
		// This line of code selects the <tbody> from the html and clears it. If this is not used, then the results would appear on top of the previous result.
		d3.select("#p3").html("") ;
		// This code is needed to prevent the page from reloading.

        var location = d3.select(this).property("value");
        var comma = d3.format(",");

		var abc =  d3.csv("/otherdata/covid.csv", function(consdata) {
	    var filtercitydata = consdata.filter(function(d, i) 
	    	{ 
	            if (d["location"] == location) 
	            {return d} ;
	        }) ;
	        console.log(filtercitydata) ;
		  var ctry =  filtercitydata.filter(function(d, i){return d})[0].location2 ;      
		 var sevendays = comma(filtercitydata.filter(function(d, i){return d})[0].fvl7d)  ;
		 var date = filtercitydata.filter(function(d, i){return d})[0].date  ;
		 var vaccination_rate = filtercitydata.filter(function(d, i){return d})[0].vaccination_rate  ;
    var vaccination_rate2 = filtercitydata.filter(function(d, i){return d})[0].vaccination_rate2  ;
		 var already_vaccinated = filtercitydata.filter(function(d, i){return d})[0].already_vaccinated  ;
		 var vaccination_days = comma(filtercitydata.filter(function(d, i){return d})[0].vaccination_days)  ;
              var death_days = comma(filtercitydata.filter(function(d, i){return d})[0].death_days)  ;
     var day = filtercitydata.filter(function(d, i){return d})[0].day ;
    var month = filtercitydata.filter(function(d, i){return d})[0].month ;
     var year = filtercitydata.filter(function(d, i){return d})[0].year ;

		 d3.select("#p3").insert("p").html("As of <b>" + month + " " 
    + day + ", " + year +  "</b>, <b>" + ctry + "</b> has vaccinated <b>" + sevendays + "</b> new people over the last two weeks. This means that <b>" + vaccination_rate + "%</b> of the population received their first dose over the last two weeks. <b>"  + ctry  + "</b> has given the first dose of the vaccine to <b>" + already_vaccinated + "%</b> of the population. At the current speed, <b>" + ctry + "</b> it will take <b>" + vaccination_days + "</b> days to give at least one dose to 80% of the population. Given the current death rate, sadly, around <b>" +death_days + "</b> people will have died from Covid-19 until then.");
		   		}) ;


      });

    select.selectAll("option")
      .data(data)
      .enter()
        .append("option")
        .attr("location", function (d) { return d.location; })
        .style("text-size", "34px")
        .text(function (d) { return d.location; });
  });



</script>
<p2>
</p2>
<br>
<div id="p3">  </div>
<div> <i>(Data source: Our World in Data. Own calculations)</i> </div>
<hr>
<!-- Initialize a select button -->
<p><select id="selectButton"></select></p>
<!-- Create a div where the graph will take place -->
<div id="my_dataviz"></div>
<!-- Color Scale -->
<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
<script>

// set the dimensions and margins of the graph
var margin = {top: 10, right: 10, bottom: 30, left: 60},
    width = my_dataviz.clientWidth - margin.left - margin.right ,
    height = 0.5*window.innerHeight - margin.top - margin.bottom;

// append the svg object to the body of the page
var svg = d3.select("#my_dataviz")
  .append("svg")
    .attr("width", width + margin.left + margin.right +40)
    .attr("height", height + margin.top + margin.bottom)
  .append("g")
    .attr("transform",
          "translate(" + margin.left + "," + margin.top + ")");

//Read the data
d3.csv("/otherdata/covid_panel.csv", 
	function(d){
    return { date : d3.timeParse("%Y-%m-%d")(d.date), location: d.location, new_deaths_smoothed_per_million: d.new_deaths_smoothed_per_million, vaccination_days: d.vaccination_days, vaccination_rate2: d.vaccination_rate2, vaccination_rate: d.vaccination_rate}
  },

  // Now I can use this dataset:
  function(data) {

    // List of groups (here I have one group per column)
    var allGroup = d3.map(data, function(d){return(d.location)}).keys()

    // add the options to the button
    d3.select("#selectButton")
      .selectAll('myOptions')
     	.data(allGroup)
      .enter()
    	.append('option')
      .text(function (d) { return d; }) // text showed in the menu
      .attr("vaccination_rate", function (d) { return d; }) // corresponding value returned by the button


    // A color scale: one color for each group
    var myColor = d3.scaleOrdinal()
      .domain(allGroup)
      .range(d3.schemeSet2);


  
// text label for the y axis
  var lax = svg.append("text")
      .attr("transform", "rotate(-90)")
      .attr("y", 0 - margin.left)
      .attr("x",0 - (height / 2))
      .attr("dy", "1em")
      .style("text-anchor", "middle")
      .style('font-family', '"Noto Sans"')
      .style('font-size' , '100%')
      .style('font-weight' , '700')
        .style('fill' , function(d){ return myColor("World")})
      .style("fill-opacity", 1.0)
      .text("New Deaths per million per day");      


  var rax = svg.append("text")
      .attr("transform", "rotate(-90)")
      .attr("y", width + 30)
      .attr("x",0 - (height / 2))
      .attr("dy", "1em")
      .style("text-anchor", "middle")
      .style('font-family', '"Noto Sans"')
      .style('font-size' , '100%')
      .style('font-weight' , '700')
        .style('fill' , function(d){ return myColor("World")})
      .style("fill-opacity", 0.6)
          .text("New first doses per week per 100");  





    // Add X axis --> it is a date format
    var x = d3.scaleTime()
      .domain(d3.extent(data, function(d) { return d.date; }))
      .range([ 0, width ]);
    svg.append("g")
      .attr("transform", "translate(0," + height + ")")
       .style('font-family', '"Noto Sans"')
      .style('font-size' , '100%')
         .style('color' , '#494949')
      .call(d3.axisBottom(x).ticks(4).tickFormat(d3.timeFormat("%b"))
      	);



    // Add Y axis
    var y = d3.scaleLinear()
      .domain([0, 3])
      .range([ height, 0 ]);
 
      var leftaxis =  svg.append("g")
      .call(d3.axisLeft(y)
      .tickFormat(d3.format(","))
      .ticks(5))
      .style('font-family', '"Noto Sans"')
      .style('color' , '#494949')
      .style('font-size' , '100%');
 

    // Add Y2 axis
    var y2 = d3.scaleLinear()
      .domain([0, 5])
      .range([ height, 0 ]);


    var rightaxis = svg.append("g")
      .call(d3.axisRight(y2)
      		.tickFormat(d3.format(","))
      		 .ticks(5))
      .style('font-family', '"Noto Sans"')
      .style('color' , '#494949')
      .style('font-size' , '100%')
       .attr("transform", "translate( " + 1.00*width  + ", 0 )");



    // Initialize line with first group of the list
    var line = svg
      .append('g') 
      .append("path")
        .datum(data.filter(function(d){return d.location==allGroup[0]}))
        .attr("d", d3.line()
          .x(function(d) { return x(d.date) })
          .y(function(d) { return y(+d.new_deaths_smoothed_per_million) })
        )
        .attr("stroke", function(d){ return myColor("World") })
        .style("stroke-width", 3)
        .style("fill", "none")

    var line2 = svg
      .append('g') 
      .append("path")
        .datum(data.filter(function(d){return d.location==allGroup[0]}))
        .attr("d", d3.line()
          .x(function(d) { return x(d.date) })
          .y(function(d) { return y2(+d.vaccination_rate) })
        )
        .attr("stroke", function(d){ return myColor("World") })
        .style("stroke-width", 3)
        .style("stroke-opacity", 0.6)
        .style("fill", "none");
  
    // A function that update the chart
    function update(selectedGroup) {

   
      // Create new data with the selection?
      var dataFilter = data.filter(function(d){return d.location==selectedGroup})

      y .domain([0, 1.2*d3.max(dataFilter, function(d) { return +d.new_deaths_smoothed_per_million; })]);
      y2 .domain([0, 1.2*d3.max(dataFilter, function(d) { return +d.vaccination_rate; })]);


 leftaxis
 		.transition()
        .duration(500)
      .call(d3.axisLeft(y)
      .tickFormat(d3.format(","))
      .ticks(5));
 


   rightaxis 
    		.transition()
        .duration(500)
      .call(d3.axisRight(y2)
      		.tickFormat(d3.format(","))
      		 .ticks(5))
      .style('font-family', '"Noto Sans"')
      .style('color' , '#494949')
      .style('font-size' , '100%')
       .attr("transform", "translate( " + 1.00*width  + ", 0 )");




  
		rax 
		.transition()
          .duration(500)
 		.style('fill' , function(d){ return myColor(selectedGroup)})
 		;


		lax 
		 .transition()
          .duration(500)
		 .style('fill' , function(d){ return myColor(selectedGroup)})
		 ;

      // Give these new data to update line
      line 
          .datum(dataFilter)
          .transition()
          .duration(200)
          .attr("d", d3.line()
            .x(function(d) { return x(d.date) })
            .y(function(d) { return y(+d.new_deaths_smoothed_per_million) })
          )
          .attr("stroke", function(d){ return myColor(selectedGroup) })
          .style("stroke-width", 3)
        .style("fill", "none")
          ;


    line2 
      .datum(dataFilter)
          .transition()
          .duration(200)
        .attr("d", d3.line()
          .x(function(d) { return x(d.date) })
          .y(function(d) { return y2(+d.vaccination_rate) })
        )
        .attr("stroke", function(d){ return myColor(selectedGroup) })
        .style("stroke-width", 3)
        .style("fill", "none")
        .style("stroke-opacity", 0.6);


    }

    // When the button is changed, run the updateChart function
    d3.select("#selectButton").on("change", function(d) {
        // recover the option that has been chosen
        var selectedOption = d3.select(this).property("value")
        // run the updateChart function with this selected option
        update(selectedOption)


    }) 

})

</script>
<hr>
<h3 id="mentoring-for-donations">Mentoring for donations</h3>
<blockquote class="twitter-tweet"><p lang="en" dir="ltr"><a href="https://twitter.com/hashtag/EconTwitter?src=hash&amp;ref_src=twsrc%5Etfw">#EconTwitter</a> <br>I am offering FREE mentoring for anyone interested in applying for masters/predocs/PhD programs in Economics. In return, I request you to donate to an Indian Covid foundation, such as <a href="https://twitter.com/Hemkunt_Fdn?ref_src=twsrc%5Etfw">@Hemkunt_Fdn</a> or <a href="https://twitter.com/Khalsa_Aid?ref_src=twsrc%5Etfw">@Khalsa_Aid</a>. DM me if interested! <a href="https://twitter.com/hashtag/IndiaFightsCOVID19?src=hash&amp;ref_src=twsrc%5Etfw">#IndiaFightsCOVID19</a> 1/3</p>&mdash; Jonathan Old (@Jonathan_Old) <a href="https://twitter.com/Jonathan_Old/status/1392964103174492172?ref_src=twsrc%5Etfw">May 13, 2021</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<hr>



<hr>










This website is inspired by <a href="https://gautam-rao.com" target="_blank">Gautam Rao</a> and <a href="https://people.csail.mit.edu/leiy/" target="_blank">Lei Yang</a>. You can find the source code on my  <a href="github.com/jonathanold/jonathanold.github.io" target="_blank">Github repository</a>. Please feel free to copy it for your own website.
</section>
      <footer>
      </footer>
    </div>
    <script src="./js/scale.fix.js"></script>
    
    <script>
		function toggle(pid) {
            objid = "pubabs_" + pid.toString();
            linkid = "pubabslink_" + pid.toString();
            absobj = document.getElementById(objid);
            linkobj = document.getElementById(linkid);
			if (absobj.style.display === "none") {
				absobj.style.display = "inline";
                linkobj.style.display = "none";
			}
			else {
				absobj.style.display = "none";
                linkobj.style.display = "inline";
            }
		}
	</script>
  </body>
</html>

